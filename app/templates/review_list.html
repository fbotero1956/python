{% extends 'base.html' %} 
{% import "bootstrap/wtf.html" as wtf %} 

{% block title %}Reviews {% endblock title %}

{% block content %} 
    {% set i = 0 %} 
        <div class="col-md-12" style="padding: 1%;">
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            {% for message in messages %}
            <div class="toast show align-items-center text-white bg-primary border-0"
                role="alert" aria-live="assertive" aria-atomic="true" data-autohide="false">
              <div class="d-flex">
                <div class="toast-body">
                  {{ message }}
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto"
                      data-bs-dismiss="toast" aria-label="Close"></button>
              </div>
            </div>
            {% endfor %}
        {% endif %} 
        {% endwith %} 
        
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <form method="POST" action="{{ url_for('create_review') }}" class="form" role="form">
                    {{ form.csrf_token }}
                    <div class="form-grop col-md-12">{{ wtf.form_field(
                                                        form.name, class='form-control',
                                                        placeholder='Me')
                                                    }} </div>  
                        <div class="form-grop col-md-12">{{ wtf.form_field(
                                                        form.reviewText, class='form-control',
                                                        placeholder='The Best')
                                            }} </div>
                        <div class="form-group col-md-12">
                            <button type="submit" class="btn btn-primary" style="margin-top: 10px; width: 100%;">Add Review</button>
                        </div>
                </form>
            </div>
        </div> 

    <table class="table">
        <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Review</th>
          </tr>
        </thead>
        <tbody>
        {% for review in review_list %} 
        {% if review.active %}
          <tr>
            <td>{{ review.name }}</td>
            <td>{{ review.reviewText }}</td>
          </tr>
          {% endif %} 
          {% endfor %}
        </tbody>
      </table> 

{% endblock content %} 